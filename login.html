<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - PT ANISA JAYA UTAMA BY ROY</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: url('logo Anything2 tanpa pinggiran.png') no-repeat center center fixed;
    background-size: 400px;
    background-color: #dfe6e9;
    background-blend-mode: lighten;
}
.login-container {
    width: 350px;
    margin: 100px auto;
    background: rgba(255,255,255,0.9);
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    text-align: center;
}
h2 {
    color: #2d3436;
}
input {
    width: 90%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 5px;
    border: 1px solid #b2bec3;
}
button {
    background-color: #0984e3;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
}
button:hover {
    background-color: #74b9ff;
}
.logo-title {
    font-size: 20px;
    font-weight: bold;
    color: #2d3436;
    margin-bottom: 10px;
}
</style>
</head>
<body>

<div class="login-container">
    <div class="logo-title">PT ANISA JAYA UTAMA<br>BY ROY</div>
    <h2>Login Aplikasi</h2>
    <input type="text" id="username" placeholder="Username"><br>
    <input type="password" id="password" placeholder="Password"><br>
    <button onclick="login()">Masuk</button>
    <p id="msg" style="color:red;font-weight:bold;"></p>
</div>

<script>
let attempts = 0;

// default user jika belum ada di localStorage
if (!localStorage.getItem("users")) {
    const defaultUsers = [
        { username: "admin", password: "12345", role: "admin" },
        { username: "user", password: "12345", role: "user" }
    ];
    localStorage.setItem("users", JSON.stringify(defaultUsers));
}

function login() {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    const msg = document.getElementById("msg");

    const users = JSON.parse(localStorage.getItem("users")) || [];
    const user = users.find(u => u.username === username && u.password === password);

    if (user) {
        localStorage.setItem("loggedInUser", JSON.stringify(user));
        window.location.href = window.location.origin + "/KENDARAAN-KANTOR/index.html";
    } else {
        attempts++;
        msg.innerText = "Username atau password salah! Percobaan ke-" + attempts;
        if (attempts >= 3) {
            alert("Terlalu banyak percobaan salah. Aplikasi ditutup.");
            document.body.innerHTML = "<h1 style='text-align:center;color:red;'>Akses ditolak!</h1>";
        }
    }
}

</script>

</body>
</html>



